package com.kisman.cc.module.exploit;

import com.kisman.cc.module.Category;
import com.kisman.cc.module.Module;
import com.kisman.cc.setting.Setting;
import com.kisman.cc.util.ChatUtil;
import net.minecraft.init.Blocks;
import net.minecraft.util.math.BlockPos;

public class LiquidLeave extends Module {
    private final Setting height = new Setting("Height", this, 1, 1, 20, false);

    public LiquidLeave() {
        super("LiquidLeave", Category.EXPLOIT);

        register(height);
    }

    public void onEnable() {
        if (mc.player == null || mc.world == null) return;

        if (mc.world.getBlockState(new BlockPos(mc.player.posX, mc.player.posY - 0.95, mc.player.posZ)).getBlock() == Blocks.WATER){
            mc.player.motionY = (float) this.height.getValDouble();
            mc.player.onGround = true;
        } else if (mc.player.isInWater() || mc.player.isInLava()){
            mc.player.onGround = true;
        } else {
            ChatUtil.error("Water or Lava not found!");
            super.setToggled(false);
        }
    }
}
