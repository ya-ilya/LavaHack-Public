package com.kisman.cc.module.exploit;

import com.kisman.cc.module.Category;
import com.kisman.cc.module.Module;
import com.kisman.cc.setting.Setting;
import net.minecraft.network.play.client.CPacketPlayer;

import java.util.ArrayList;
import java.util.Arrays;

public class Rubberband extends Module {
    private final Setting mode = new Setting("Mode", this, "Packet", new ArrayList<>(Arrays.asList("Motion", "Teleport", "Packet")));
    private final Setting motion = new Setting("Motion", this, 5, 1, 15, false);

    public Rubberband() {
        super("Rubberband", Category.EXPLOIT);

        register(mode);
        register(motion);
    }

    public boolean isBeta() {
        return true;
    }

    public void update() {
        if (mc.player == null || mc.world == null) return;

        float motion = this.motion.getValFloat();

        switch (mode.getValString()) {
            case "Motion": {
                mc.player.motionY = motion;
                break;
            }
            case "Packet": {
                mc.player.connection.sendPacket(new CPacketPlayer.Position(mc.player.posX, mc.player.posY + motion, mc.player.posZ, true));
                break;
            }
            case "Teleport": {
                mc.player.setPositionAndUpdate(mc.player.posX, mc.player.posY + motion, mc.player.posZ);
                break;
            }
        }
    }
}
